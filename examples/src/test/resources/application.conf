# Azure Cosmos Extensions for DataStax Java Driver 4 for Apache Cassandra application configuration
#
# See package/src/main/resources/reference.conf for the full set of configuration options for CosmosLoadBalancingPolicy
# and CosmosRetryPolicy. Update this file or override the values provided here and in reference.conf to match your
# environment and preferences.
#
# See https://docs.datastax.com/en/developer/java-driver/4.9/manual/core/configuration/ for a general discussion of
# DataStax Java Driver 4.X configuration.
datastax-java-driver {
  advanced {
    auth-provider {
      # By default we use the PlainTextAuthProvider (see reference.conf) and specify the username and password here.
      username = ${?AZURE_COSMOS_CASSANDRA_USERNAME}
      password = ${?AZURE_COSMOS_CASSANDRA_PASSWORD}
    }
    retry-policy {
      # By default we use the CosmosRetryPolicy (see reference.conf) and accept the default configuration here.
    }
  }
  basic {

    contact-points = ["localhost:9042"]
    contact-points = [${?datastax-java-driver.basic.load-balancing-policy.global-endpoint}]

    load-balancing-policy {

      # Global endpoint for connecting to Cassandra
      #
      #   When global-endpoint is specified, you may specify a read-datacenter, but must not specify a write-datacenter.
      #   Writes will go to the default write region when global-endpoint is specified.
      #
      #   When global-endpoint is not specified, you must specify both a read-datacenter and a write-datacenter. Update
      #   this file or run this example with these system properties set to override the values provided here:
      #
      #   -Ddatastax-java-driver.basic.load-balancing-policy.global-endpoint=<global-endpoint>
      #   -DDdatastax-java-driver.basic.load-balancing-policy.read-datacenter=<read-datacenter>
      #   -DDdatastax-java-driver.basic.load-balancing-policy.write-datacenter=<write-datacenter>
      #
      # Or set the environment variables referenced here to match the topology of your Cassandra instance.1

      global-endpoint = "localhost:9042"
      global-endpoint = ${?AZURE_COSMOS_CASSANDRA_GLOBAL_ENDPOINT}

      # Datacenter for read operations

      read-datacenter = ${?AZURE_COSMOS_CASSANDRA_READ_DATACENTER}

      # Datacenter for write operations

      write-datacenter = ${?AZURE_COSMOS_CASSANDRA_WRITE_DATACENTER}
    }
  }
}
